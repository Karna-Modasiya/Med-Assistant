<div class="patient-history-parent-container">
  <div [ngClass]="[prescriptionStyle]">
    <table mat-table class="patient-history-table" #patientHistory mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <!-- Date Column -->
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef> Date </th>
          <td mat-cell *matCellDef="let element"> {{element.date}} </td>
        </ng-container>

        <!-- Doctor Name Column -->
        <ng-container matColumnDef="doctor">
          <th mat-header-cell *matHeaderCellDef> Doctor </th>
          <td mat-cell *matCellDef="let element"> {{element.doctor}} </td>
        </ng-container>

        <!-- Action Column -->
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef> Action </th>
          <td mat-cell *matCellDef="let element">
              <button mat-icon-button color="primary" (click)="showPrescription(element.position)" [disabled]="show">
                  <mat-icon>open_in_new</mat-icon>
              </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

  </div>
    <!-- <mat-paginator #paginator
              [length]="length"
              [pageSize]="pageSize"
              [pageSizeOptions]="pageSizeOptions"
              (page)="pageEvent = $event"
              aria-label="Select page">
  </mat-paginator> -->

  <!-- <div *ngIf="show" class="display-prescription"> -->
    <mat-card *ngIf="show" class="mat-card">
      <div class="closebtn" (click)="closePrescription()">
        <i class="fa-solid fa-xmark fa-2x"></i>
      </div>

        <!-- Parameter Table -->
        <table mat-table [dataSource]="parameterSource" matSort class="mat-elevation-z7 parameter-table">
          <!-- Parameter Column -->
          <ng-container matColumnDef="parameter">
            <th mat-header-cell *matHeaderCellDef> Parameter </th>
            <td mat-cell *matCellDef="let element"> {{ element.parameter }} </td>
          </ng-container>

          <!-- Value Column -->
          <ng-container matColumnDef="value">
            <th mat-header-cell *matHeaderCellDef> Value </th>
            <td mat-cell *matCellDef="let element"> {{ element.value }} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="parameterColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: parameterColumns;"></tr>
        </table>

        <!-- Medicine Table -->
        <table mat-table [dataSource]="prescriptionSource" class="mat-elevation-z7 medicine-table">

          <!-- Position Column -->
          <ng-container matColumnDef="position">
            <th mat-header-cell *matHeaderCellDef> No. </th>
            <td mat-cell *matCellDef="let element"> {{ element.position }} </td>
          </ng-container>

          <!-- Medicine Column -->
          <ng-container matColumnDef="medicine">
            <th mat-header-cell *matHeaderCellDef> Medicine </th>
            <td mat-cell *matCellDef="let element"> {{ element.medicine }} </td>
          </ng-container>

          <!-- Quantity Column -->
          <ng-container matColumnDef="quantity">
            <th mat-header-cell *matHeaderCellDef> Quantity </th>
            <td mat-cell *matCellDef="let element"> {{ element.quantity }} </td>
          </ng-container>

          <!-- Dosage Column -->
          <ng-container matColumnDef="dosage">
            <th mat-header-cell *matHeaderCellDef> Dosage </th>
            <td mat-cell *matCellDef="let element"> {{ element.dosage }} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="prescriptionColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: prescriptionColumns;"></tr>
        </table>
      </mat-card>
  <!-- </div> -->
</div>
